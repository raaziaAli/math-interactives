
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Volume Calculator with Canvas</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f0f0f0;
      text-align: center;
      padding: 2rem;
    }
    .container {
      background: white;
      padding: 2rem;
      max-width: 600px;
      margin: auto;
      border-radius: 10px;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
    }
    canvas {
      margin: 1rem auto;
      background: #fff;
      display: block;
      border: 1px solid #ccc;
    }
    .input-group {
      margin: 1rem 0;
      text-align: left;
    }
    input[type=range] {
      width: 100%;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Volume Calculator</h2>
    <select id="shape" onchange="updateUI()">
      <option value="sphere">Sphere</option>
      <option value="cylinder">Cylinder</option>
      <option value="cone">Cone</option>
    </select>

    <canvas id="shapeCanvas" width="200" height="160"></canvas>

    <p id="formula">Formula appears here</p>

    <div class="input-group">
      <label>Radius: <span id="radiusVal">5</span></label>
      <input type="range" id="radius" min="1" max="50" value="5" step="0.1" oninput="updateVolume()">
    </div>

    <div class="input-group" id="heightGroup">
      <label>Height: <span id="heightVal">10</span></label>
      <input type="range" id="height" min="1" max="100" value="10" step="0.1" oninput="updateVolume()">
    </div>

    <div><strong id="result">Volume = ...</strong></div>
  </div>

  <script>
    function updateUI() {
      const shape = document.getElementById('shape').value;
      const formula = document.getElementById('formula');
      const heightGroup = document.getElementById('heightGroup');

      if (shape === 'sphere') {
        formula.textContent = 'Formula: V = (4/3)πr³';
        heightGroup.style.display = 'none';
      } else if (shape === 'cylinder') {
        formula.textContent = 'Formula: V = πr²h';
        heightGroup.style.display = 'block';
      } else if (shape === 'cone') {
        formula.textContent = 'Formula: V = (1/3)πr²h';
        heightGroup.style.display = 'block';
      }

      updateVolume();
    }

    function updateVolume() {
      const shape = document.getElementById('shape').value;
      const r = parseFloat(document.getElementById('radius').value);
      const h = parseFloat(document.getElementById('height').value);
      const π = Math.PI;

      document.getElementById('radiusVal').innerText = r;
      document.getElementById('heightVal').innerText = h;

      let volume = 0;

      if (shape === 'sphere') {
        volume = (4 / 3) * π * Math.pow(r, 3);
      } else if (shape === 'cylinder') {
        volume = π * Math.pow(r, 2) * h;
      } else if (shape === 'cone') {
        volume = (1 / 3) * π * Math.pow(r, 2) * h;
      }

      document.getElementById('result').textContent = `Volume = ${volume.toFixed(2)} units³`;

      drawShape(shape, r, h);
    }

    function drawShape(shape, r, h) {
      const canvas = document.getElementById('shapeCanvas');
      const ctx = canvas.getContext('2d');
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      ctx.strokeStyle = '#0074D9';
      ctx.lineWidth = 2;
      ctx.font = '12px Arial';
      ctx.fillStyle = '#333';
      ctx.textAlign = 'center';

      if (shape === 'sphere') {
        ctx.beginPath();
        ctx.arc(100, 75, 50, 0, Math.PI * 2);
        ctx.stroke();
        ctx.fillText(`r = ${r}`, 100, 75);
      } else if (shape === 'cylinder') {
        ctx.beginPath();
        ctx.ellipse(100, 40, 40, 10, 0, 0, Math.PI * 2);
        ctx.moveTo(60, 40);
        ctx.lineTo(60, 110);
        ctx.moveTo(140, 40);
        ctx.lineTo(140, 110);
        ctx.ellipse(100, 110, 40, 10, 0, 0, Math.PI * 2);
        ctx.stroke();
        ctx.fillText(`r = ${r}`, 100, 20);
        ctx.fillText(`h = ${h}`, 150, 75);
      } else if (shape === 'cone') {
        ctx.beginPath();
        ctx.moveTo(60, 110);
        ctx.lineTo(100, 30);
        ctx.lineTo(140, 110);
        ctx.moveTo(60, 110);
        ctx.quadraticCurveTo(100, 130, 140, 110);
        ctx.stroke();
        ctx.fillText(`r = ${r}`, 100, 130);
        ctx.fillText(`h = ${h}`, 150, 75);
      }
    }

    window.onload = updateUI;
  </script>
</body>
</html>
