<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Noodle & Cheese Pan Ratio Interactive</title>
  <style>
    body { font-family: system-ui, sans-serif; padding: 2rem; background: #f9fafb; }
    h1 { color: #2563eb; }
    .slider-row { margin: 1rem 0; }
    .bar { display: flex; height: 40px; border: 1px solid #ccc; border-radius: 8px; overflow: hidden; }
    .noodles { background: #93c5fd; }
    .cheese { background: #fcd34d; }
    .labels { margin-top: .5rem; font-size: 14px; }
    table { border-collapse: collapse; width: 100%; margin-top: 2rem; }
    th, td { border: 1px solid #ccc; padding: .5rem; text-align: center; }
    th { background: #f1f5f9; }
  </style>
</head>
<body>
  <h1>ðŸ¥˜ Noodle & Cheese Pan Ratio Interactive</h1>
  <p>Ratio: <b>4 parts noodles : 1 part cheese</b> (Pan = Noodles + Cheese)</p>

  <div class="slider-row">
    <label>Pan Size (cups): 
      <input type="range" id="panSlider" min="1" max="12" step="0.125" value="5">
      <span id="panVal">5</span>
    </label>
  </div>

  <div class="bar" id="barModel">
    <div class="noodles" id="barNoodles"></div>
    <div class="cheese" id="barCheese"></div>
  </div>
  <div class="labels">
    Noodles: <span id="noodlesVal"></span> cups | 
    Cheese: <span id="cheeseVal"></span> cups | 
    Pan: <span id="panTotal"></span> cups
  </div>

  <table>
    <thead>
      <tr><th>Noodles (cups)</th><th>Cheese (cups)</th><th>Pan Size (cups)</th></tr>
    </thead>
    <tbody>
      <tr><td>3</td><td>3/4</td><td>?</td></tr>
      <tr><td>?</td><td>1/4</td><td>?</td></tr>
      <tr><td>2/3</td><td>?</td><td>?</td></tr>
      <tr><td>5 1/3</td><td>?</td><td>?</td></tr>
      <tr><td>?</td><td>?</td><td>5 5/8</td></tr>
    </tbody>
  </table>

  <script>
  document.addEventListener("DOMContentLoaded", () => {
    const panSlider = document.getElementById("panSlider");
    const panVal = document.getElementById("panVal");
    const barNoodles = document.getElementById("barNoodles");
    const barCheese = document.getElementById("barCheese");
    const noodlesVal = document.getElementById("noodlesVal");
    const cheeseVal = document.getElementById("cheeseVal");
    const panTotal = document.getElementById("panTotal");

    function updatePan(pan) {
      const noodles = (4/5) * pan;
      const cheese = (1/5) * pan;
      panVal.textContent = pan.toFixed(3).replace(/\\.000$/,"");
      noodlesVal.textContent = simplify(noodles);
      cheeseVal.textContent = simplify(cheese);
      panTotal.textContent = simplify(pan);
      barNoodles.style.flex = noodles;
      barCheese.style.flex = cheese;
    }

    function simplify(num) {
      // show as fraction if possible
      const frac = toFraction(num, 8); // round to nearest 1/8
      return frac;
    }

    function toFraction(x, denom) {
      const n = Math.round(x * denom);
      if (n % denom === 0) return (n/denom).toString();
      return n + "/" + denom;
    }

    panSlider.addEventListener("input", () => updatePan(parseFloat(panSlider.value)));

    updatePan(parseFloat(panSlider.value));
  });
  </script>
</body>
</html>
